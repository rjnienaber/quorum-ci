use Libraries.Containers.Array
use Libraries.Compute.Random

class ComplexSet 
    action Main

        Array<integer> a
        Random r
        integer n = 10
        integer max = 5
        a:SetSize(max)
        integer i = 0
        repeat max times
            a:Set(i, 0)
            i = i + 1
        end

        repeat n times
            i = r:RandomIntegerBetween(0, max - 1)
        ////    THIS CODE WORKS
        //    x = a:Get(i)
        //    a:Set(i, x + 1)

        //    THIS CODE BREAKS
            a:Set(i, a:Get(i) + 1)
        end
    end
end